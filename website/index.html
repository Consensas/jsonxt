<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800&display=swap" rel="stylesheet">
    <title>JSON-XT</title>
    <style>
body {
    background-color: #FFE;
}
* {
    font-family: 'Manrope', sans-serif;
}
h1 {
    font-weight: 700;
}
h2 {
    font-size: 1.8rem;
}
h3 {
    font-size: 1.6rem;
}
    </style>
</head>
<body>
    <div class="container">
        <h1>JSON-XT</h2>
        <p>
        URL friendly JSON compression using eXternal Templates.
        For constrained environments, such as QR codes.
        </p>
        <p>
        <i>This Open Source project is sponsored by <a href="https://consensas.com">Consensas</a></i>
        </p>
        <h2>Introduction</h2>
        <h3>Basic Idea</h3>
        <p>
        <i>A more formal description of the algorithm will come with traction and or time!</i>
        <p>
        <ul>
            <li>Create a <b>Template</b> that has all the "framing" type information
            that is frequently repeated, plus information on how to reconstitue the original document.
            <li>Using the original JSON and the Template, create a ...
        </ul>
        <h3>Code</h3>
        <p>
        Source on <a href="https://github.com/Consensas/jsonxt">GitHub</a>, 
        package on <a href="https://www.npmjs.com/package/jsonxt">npm</a>.
        Note that the Javascript module has no external dependecies!
        </p>
        <h4>Installation</h4>
        <pre>npm install jsonxt</pre>
        <h4>Encoding</h4>
<pre>const jsonxt = require("jsonxt")

url = jsonxt.pack(document, template, "c4", "1", "example.com")
</pre>

        <h4>Decoding</h4>
        <i>API in progress</i>
<pre>document = await jsonxt.unpack(original, resolver => {
    return template
})
</pre>

        <h2>
        Examples
        </h2>
        <p>
        <i>Note: that if we (as a community) can come up with a proof JWS that is small -
        for example, the Base64 MD5 of an existing proof, we can get all these credentials
        to sub-160 bytes!
        </i>
        </p>
        <h3>
        CCCC4 Vaccination Credential
        </h3>
        <p>
        See <a href="https://cccc4.ca">here</a> for more details.
        </p>
        <ul>
            <li>
                <a href="https://github.com/Consensas/jsonxt/blob/main/test/data/c4-1-1.json">Original</a> - 2254 bytes
                (<a href="https://github.com/Consensas/jsonxt/blob/main/test/data/template.json">template</a>)
            </li>
            <li>
                Packed - 522 bytes
                <br />
                <code>jxt:example.com:c4:1:Adrian/Steele//BgQAw7/TiX/-2097/CA-BC/H4/Bf7mYA/2/123-456-789/CA/BC/Port%20Jennifer/Shopper's/BgQAw7/eyJhbGciOiJQUzI1NiIsImI2NCI6ZmFsc2UsImNyaXQiOlsiYjY0Il19..QcFxH2IAl95ugL4zkBFFquyySkKCoigzQhkS-sZFBGonJjI2j1lSdLQfHHAB9sWDeXD35mTaSWxFWe-Rcw9JfsweDXhRVtiXa8-aANyrvhiXCm762bQcRcNX-I1PO3zxAW812UKW6pdAtAk2fIBK1Jsck3SdbrfpPRcIm1wgARjhWOHmyjhrj4mAo87JJTiF3iRpljFkE2b0cyI3J7zWmW3ddD8yM5TCGET5uE92_is8gpl1DCRKORnlcN1ipbVZTI6FhRlJFQVSfzH-NkTCUnjAVWsnYiTYgBdh8b4Z0TT26IxM2ULGr_2qxDeQKMLxmmmuncrYN_NTOkSdVb-iug</code>
            </li>
        </ul>
        <h3>
        Mattr/W3C Vaccination Credential
        </h3>
        <p>
        See <a href="https://github.com/w3c-ccg/vaccination-vocab">here</a> for more details.
        My understand is the encoding they are using now (CBOR-LD, Base64) yields a size of about
        700 bytes.
        </p>
        <ul>
            <li>
                <a href="https://github.com/Consensas/jsonxt/blob/main/test/data/w3vc-1-1.json">Original</a> - 1021 bytes
                (<a href="https://github.com/Consensas/jsonxt/blob/main/test/data/template.json">template</a>)
            </li>
            <li>
                Packed - 270 bytes
                <br />
                <code>jxt:example.com:w3vc:1:MoH/J07BX03/1183738569/OPL/NZ/BgLv0g/Bwtkpo/SMITH/Male/JOHN/urn%3Auvci%3Aaf5vshde843jf831j128fj/Bd5lLo/eyJhbGciOiJFZERTQSIsImI2NCI6ZmFsc2UsImNyaXQiOlsiYjY0Il19..a3UqIuKSOmCKrdn2knl_hCjiN4f4Ud1eO5ckwEHb623V9vdCwWCDB7GBHlRBYSI8ek2E-By7xysVFwutcpOeDg</code>
            </li>
    </div>
</body>
</html>
